{% extends "base.html" %}
{% block content %}
<!-- Page Content -->
  <script  type="text/javascript">
  $(function() {
    function log( message ) {
      $( "<div>" ).text( message ).prependTo( "#log" );
      $( "#log" ).scrollTop( 0 );
    }
 
    var metricUrl = '/lookup';
    var pageSize = 20;

    $('#metric-entry').select2(
    {
        tags: true,
        placeholder: 'Enter name',
        //Does the user have to enter any data before sending the ajax request
        minimumInputLength: 3,            
        ajax: {
          url: metricUrl,
            //The url of the json service
          dataType: 'json',
            //How long the user has to pause their typing before sending the next request
          quietMillis: 150,
          //Our search term and what page we are on
          data: function (params) {
            return {
		term: params.term, 
                page: params.page
            };
          },
     
          processResults: function (data, params) {
          // parse the results into the format expected by Select2
          // since we are using custom formatting functions we do not need to
          // alter the remote JSON data, except to indicate that infinite
          // scrolling can be used
            params.page = params.page || 1;

            return {
              results: data,
              pagination: {
                more: (params.page * 30) < data.length
              }
            };
          },
        cache: true
     },
    templateResult: function (option) {
      return option.desc ;
    },
    templateSelection: function (option) {
      return option.desc;
    }
}); 
  });
  </script>
        <div id="page-wrapper">
            <div class="container-fluid">
		<div class="row">
               	    <div class="col-lg-3">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Metric Explorer
                            </div>
                            <div class="panel-body">
                                <form role="form">
                                    <div class="form-group">
                                        <label>Metric Name</label>
                                        <select id="metric-entry" multiple style="width:100%">
                                          <option value="3620194" selected="selected">select2/select2</option>
                                        </select>
                                    </div>
				</form>
                            </div>
                        </div>
                    </div>
		</div>



                <!-- /.row -->
            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- /#page-wrapper -->
{% endblock %}
